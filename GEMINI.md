# main.dart と mainsub.dart の機能比較

`mainsub.dart` は `main.dart` に比べて、はるかに多くの機能を持つフル機能のアプリケーションです。以下は `mainsub.dart` にのみ存在する主な機能の概要です。

## ポートフォリオ管理
- 株式の追加、編集、削除機能。
- `SharedPreferences` を利用してポートフォリオデータをデバイスに永続的に保存する機能。

## テーマの切り替え
- アプリケーションのテーマをライトモードとダークモードで切り替える機能。
- `SharedPreferences` を使用して、ユーザーが選択したテーマ設定を保存します。

## 自動更新
- 30秒、1分、2分などの設定可能な間隔で株価データを自動的に更新する機能。
- `Timer` を使用して定期的にAPIを呼び出します。

## 高度なUIとデータ表示
- ポートフォリオ全体の合計評価額と損益（P/L）を計算して表示。
- `GridView` を使用したレスポンシブなカードベースのレイアウト。
- `ExpansionTile` を使用して、デバッグや確認のためにAPIからの生レスポンスを表示する機能。
- `SnackBar` を使用して、エラーメッセージや警告をユーザーに分かりやすく通知。

## レスポンシブデザイン
- `responsive_framework` パッケージを利用して、モバイル、タブレット、デスクトップなど、さまざまな画面サイズにUIが適応します。

## データモデル
- `FinancialData` や `PortfolioItem` といったクラスを定義し、アプリケーション内で使用されるデータを構造化しています。

## 外部APIの利用
- `main.dart` がローカルの単純なAPIを対象としているのに対し、`mainsub.dart` はより詳細な金融データを取得するために `rustwasm-fullstack-app.sumitomo0210.workers.dev` という外部APIを呼び出します。

## 設定機能
- `popover` パッケージを利用したUIで、ユーザーがデータの自動更新間隔を設定できます。

## 移植
- mainsub.datを参照してmain.dartに無い機能を検出する、検出した機能をmain.dartに移植する。